{% extends 'base2.html' %}

{% block content %}
	<br><br><br>
	<div id="topo">
	</div>

	<hr>
	<br><br>
    <h1>Editar usuário</h1>
    {% if flash %}
        <div class="flash">{{ flash }}</div>
    {% endif %}
    <form action="{{ url_for('edit_usuario', id=usuario.id) }}" method="post" onsubmit="return validatePasswords()">
		<div class="flex-container">
			<label for="nome"><b>Usuário:</b></label>
			&nbsp;
			<input type="text" name="nome" id="nome" value="{{ usuario.nome }}" required>
        </div>
        <br>
		<div class="flex-container">
			<label for="senha"><b>Senha:</b></label>
			&nbsp;
			<input type="password" id="senha" name="senha" value="{{ usuario.senha }}" required>
        </div>
		<br>
		<div class="flex-container">
			<label for="confirm_senha"><b>Confirmar Senha:</b></label>
			&nbsp;
			<input type="password" id="confirm_senha" name="confirm_senha" value="{{ usuario.senha }}" required>
        </div>
		<br>
        <center><button type="submit">Salvar</button></center>
    </form>

    <script>
        function validatePasswords() {
            const password = document.getElementById('senha').value;
            const confirmPassword = document.getElementById('confirm_senha').value;

            if (password !== confirmPassword) {
                alert('As senhas não coincidem!');
                return false;
            }

            // Se as senhas coincidem, envie o formulário
            return true;
        }
    </script>

{% endblock %}
